{"ast":null,"code":"import _regeneratorRuntime from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import{anonArray}from'../references/anon_names/animals';// import { anonArray } from '../references/anon_names/love';\n// import { anonArray } from \"../references/anon_names/march_madness\";\n// import { anonArray } from '../references/anon_names/fruits';\n// import { anonArray } from '../references/anon_names/spooky';\n// import { anonArray } from \"../references/anon_names/christmas\";\nimport{taTapIn,postStats}from\"../services\";import\"../style/StudentQueue.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var config=require(\"../secret.config.json\");var goat=config.liam;var ta_list=require(\"../references/ta_list.csv\");var anonOn=true;var StudentQueue=/*#__PURE__*/function(_Component){_inherits(StudentQueue,_Component);var _super=_createSuper(StudentQueue);function StudentQueue(){var _this;_classCallCheck(this,StudentQueue);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={queue:[],entry:[],nextID:0,lastDQ:undefined,time:[]};_this.keyDown=function(event){if(event.keyCode===13){// enter\n// this.submitGTID();\nvar name=\"Anon \".concat(anonArray[_this.state.nextID]);// eslint-disable-next-line react/no-direct-mutation-state\n_this.state.nextID=(_this.state.nextID+1)%anonArray.length;var gtid=69;_this.state.queue.push({name:name,gtid:gtid,time:new Date().getTime()});_this.updateState();}else if(event.keyCode===8){// backspace\n_this.dequeue();// Full-screen page\nvar elem=document.documentElement;try{if(!document.fullscreenElement&&elem.requestFullscreen){elem.requestFullscreen();}}catch(e){console.warn(e);}}else if(event.keyCode===16){// shift\n_this.undeqeue();}};_this.submitGTID=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var gtid,n,i,student,inQ,name,newID;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:gtid=_this.state.entry.join(\"\");if(!(gtid.length===9)){_context.next=12;break;}_context.next=4;return _this.getNameFromGTID(gtid);case 4:n=_context.sent;console.log(n);if(!n){_context.next=11;break;}_context.next=9;return taTapIn(n);case 9:_this.setState({queue:_this.state.queue,entry:[]});return _context.abrupt(\"return\");case 11:// keep only last 5 digits of GTIDs\ngtid=gtid.slice(4,10);case 12:_this.setState({queue:_this.state.queue,entry:[]});// check for behavior (enqueue or dequeue)\ninQ=false;for(i=0;i<_this.state.queue.length&&!inQ;i++){student=_this.state.queue[i];if(student.gtid===gtid){inQ=true;}}if(!inQ){_context.next=20;break;}_this.state.queue.splice(i-1,1);//record time student spent in queue (minutes from ms)\n_this.state.time.push((new Date().getTime()-student.time)/60000);_context.next=31;break;case 20:if(!anonOn){_context.next=27;break;}name=\"Anon \"+anonArray[_this.state.nextID];if(gtid===goat){name=\"da goat\";}newID=_this.state.nextID+1;_this.setState({queue:_this.state.queue,entry:_this.state.entry,nextID:newID===anonArray.length?0:newID});_context.next=30;break;case 27:_context.next=29;return _this.getNameFromGTID(gtid).then(function(response){return name=response;});case 29:if(!name){name=prompt(\"Not enrolled in the course? Please enter your name to be added to the queue:\",\"Guest\");}case 30:_this.state.queue.push({name:name,gtid:gtid,time:new Date().getTime()});case 31:_this.updateState();case 32:case\"end\":return _context.stop();}},_callee);}));_this.getNameFromGTID=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(gtid){var content,lines,found,curr,currLine;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:content=\"\";_context2.next=3;return fetch(ta_list).then(function(response){return response.text();}).then(function(text){return content=text;});case 3:lines=content.split(/[\\r\\n]+/g);found=false;// LINEAR search leggoooo\nfor(curr=0;curr<lines.length&&!found;curr++){currLine=lines[curr].split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);if(currLine[1]===gtid){found=true;}}return _context2.abrupt(\"return\",found?currLine[0].split(\",\")[1].split(\" \")[1].split('\"')[0]+\" \"+currLine[0].split(\",\")[0].split('\"')[1].charAt(0):null);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(StudentQueue,[{key:\"dequeue\",value:function dequeue(){var tempDQ=this.state.queue.shift();this.setState({lastDQ:tempDQ});this.updateState();}},{key:\"undeqeue\",value:function undeqeue(){if(this.state.lastDQ){this.state.queue.unshift(this.state.lastDQ);this.setState({lastDQ:undefined});this.updateState();}}//This kinda creates problems during the middle of the day\n},{key:\"verifyOnDuty\",value:function verifyOnDuty(){return true;//this.props.tas.length > 0;\n}},{key:\"updateState\",value:function updateState(){this.setState({queue:this.state.queue,entry:this.state.entry,nextID:this.state.nextID,lastDQ:this.state.lastDQ});}},{key:\"updateStats\",value:function(){var _updateStats=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var students,avgTime,i;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0://students that came and left within the last n min or that are still in the queue\nstudents=this.state.time.length+this.state.queue.length;avgTime=0;for(i=0;i<this.state.time.length;i++){avgTime+=this.state.time[i];}//avg time spent in queue for students dequeued in last n minutes\navgTime/=this.state.time.length===0?1:this.state.time.length;this.setState({time:[]});avgTime=avgTime.toFixed(2);_context3.next=8;return postStats(students,avgTime);case 8:case\"end\":return _context3.stop();}},_callee3,this);}));function updateStats(){return _updateStats.apply(this,arguments);}return updateStats;}()},{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"keydown\",this.keyDown);setInterval(function(){this.updateStats();}.bind(this),1000*60*15);//every 15 minutes\n}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"StudentQueue\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"studentq_title\",children:\"Queue\"}),/*#__PURE__*/_jsx(\"div\",{id:\"studentq_info\",children:\"Press ENTER and remember your name!\"}),/*#__PURE__*/_jsxs(\"div\",{id:\"studentq_names\",children:[this.state.queue&&this.state.queue.length<=14&&this.state.queue.map(function(value,index){return/*#__PURE__*/_jsx(\"div\",{id:\"studentq_name\",children:value.name},index);}),this.state.queue&&this.state.queue.length>14&&this.state.queue.map(function(value,index){// const timeInQueue = (new Date().getTime() - value.time) / 1000 / 60; // calculate time in minutes\n// console.log(timeInQueue);\n// let nameColor = '#0f893b' // default green\n// if (timeInQueue >= 5 && timeInQueue < 10) {\n//     nameColor = '#FF6600'; // after 5 minutes orange\n//   } else if (timeInQueue >= 10) {\n//     nameColor = '#f22613'; // after 10 minutes red\n// }\n// console.log(nameColor);\nif(index<=4||index>=_this2.state.queue.length-5){// show first & last 5\nreturn/*#__PURE__*/_jsx(\"div\",{id:\"studentq_name\",children:value.name},index);}else if(index===5){// show # hidden\nreturn/*#__PURE__*/_jsxs(\"div\",{id:\"studentq_name\",children:[\"... (\",_this2.state.queue.length-10,\" hidden) ...\"]},index);}else{return null;}})]})]});}}]);return StudentQueue;}(Component);export default StudentQueue;","map":{"version":3,"names":["React","Component","anonArray","taTapIn","postStats","jsx","_jsx","jsxs","_jsxs","config","require","goat","liam","ta_list","anonOn","StudentQueue","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","queue","entry","nextID","lastDQ","undefined","time","keyDown","event","keyCode","name","gtid","push","Date","getTime","updateState","dequeue","elem","document","documentElement","fullscreenElement","requestFullscreen","e","console","warn","undeqeue","submitGTID","_asyncToGenerator","_regeneratorRuntime","mark","_callee","n","i","student","inQ","newID","wrap","_callee$","_context","prev","next","join","getNameFromGTID","sent","log","setState","abrupt","slice","splice","then","response","prompt","stop","_ref2","_callee2","content","lines","found","curr","currLine","_callee2$","_context2","fetch","text","split","charAt","_x","_createClass","key","value","tempDQ","shift","unshift","verifyOnDuty","_updateStats","_callee3","students","avgTime","_callee3$","_context3","toFixed","updateStats","componentDidMount","addEventListener","setInterval","bind","render","_this2","className","children","id","map","index"],"sources":["/Users/galovadia/Downloads/new-OH-Queue/OH-queue/src/components/StudentQueue.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { anonArray } from '../references/anon_names/animals';\n// import { anonArray } from '../references/anon_names/love';\n// import { anonArray } from \"../references/anon_names/march_madness\";\n// import { anonArray } from '../references/anon_names/fruits';\n// import { anonArray } from '../references/anon_names/spooky';\n// import { anonArray } from \"../references/anon_names/christmas\";\nimport { taTapIn, postStats } from \"../services\";\nimport \"../style/StudentQueue.css\";\n\nconst config = require(\"../secret.config.json\");\nconst goat = config.liam;\nconst ta_list = require(\"../references/ta_list.csv\");\nconst anonOn = true;\n\nclass StudentQueue extends Component {\n  state = {\n    queue: [],\n    entry: [],\n    nextID: 0,\n    lastDQ: undefined,\n    time: [],\n  };\n\n  keyDown = (event) => {\n    if (event.keyCode === 13) {\n      // enter\n      // this.submitGTID();\n      let name =  `Anon ${anonArray[this.state.nextID]}`;\n      // eslint-disable-next-line react/no-direct-mutation-state\n      this.state.nextID = (this.state.nextID + 1) % anonArray.length;\n      let gtid = 69;\n      this.state.queue.push({\n        name: name,\n        gtid: gtid,\n        time: new Date().getTime(),\n      });\n      this.updateState();\n\n    } else if (event.keyCode === 8) {\n      // backspace\n      this.dequeue();\n      \n      // Full-screen page\n      const elem = document.documentElement;\n      try {\n        if (!document.fullscreenElement && elem.requestFullscreen) {\n            elem.requestFullscreen();\n        }\n      } catch (e) {\n          console.warn(e);\n      }\n    } else if (event.keyCode === 16) {\n      // shift\n      this.undeqeue();\n    }\n  };\n\n  dequeue() {\n    let tempDQ = this.state.queue.shift();\n    this.setState({\n      lastDQ: tempDQ,\n    });\n    this.updateState();\n  }\n\n  undeqeue() {\n    if (this.state.lastDQ) {\n      this.state.queue.unshift(this.state.lastDQ);\n      this.setState({\n        lastDQ: undefined,\n      });\n      this.updateState();\n    }\n  }\n\n  //This kinda creates problems during the middle of the day\n  verifyOnDuty() {\n    return true; //this.props.tas.length > 0;\n  }\n\n  updateState() {\n    this.setState({\n      queue: this.state.queue,\n      entry: this.state.entry,\n      nextID: this.state.nextID,\n      lastDQ: this.state.lastDQ,\n    });\n  }\n\n  submitGTID = async () => {\n    let gtid = this.state.entry.join(\"\");\n    if (gtid.length === 9) {\n      //find name of TA, if TA\n      let n = await this.getNameFromGTID(gtid);\n      console.log(n);\n      if (n) {\n        await taTapIn(n);\n        this.setState({\n          queue: this.state.queue,\n          entry: [],\n        });\n        return;\n      }\n      // keep only last 5 digits of GTIDs\n      gtid = gtid.slice(4, 10);\n    }\n    this.setState({\n      queue: this.state.queue,\n      entry: [],\n    });\n    // check for behavior (enqueue or dequeue)\n    let i, student;\n    let inQ = false;\n    for (i = 0; i < this.state.queue.length && !inQ; i++) {\n      student = this.state.queue[i];\n      if (student.gtid === gtid) {\n        inQ = true;\n      }\n    }\n    if (inQ) {\n      this.state.queue.splice(i - 1, 1);\n      //record time student spent in queue (minutes from ms)\n      this.state.time.push((new Date().getTime() - student.time) / 60000);\n    } else {\n      let name;\n      if (anonOn) {\n        name = \"Anon \" + anonArray[this.state.nextID];\n        if (gtid === goat) {\n          name = \"da goat\";\n        }\n        let newID = this.state.nextID + 1;\n        this.setState({\n          queue: this.state.queue,\n          entry: this.state.entry,\n          nextID: newID === anonArray.length ? 0 : newID,\n        });\n      } else {\n        await this.getNameFromGTID(gtid).then((response) => (name = response));\n        if (!name) {\n          name = prompt(\n            \"Not enrolled in the course? Please enter your name to be added to the queue:\",\n            \"Guest\"\n          );\n        }\n      }\n      this.state.queue.push({\n        name: name,\n        gtid: gtid,\n        time: new Date().getTime(),\n      });\n    }\n    this.updateState();\n  };\n\n  getNameFromGTID = async (gtid) => {\n    let content = \"\";\n    await fetch(ta_list)\n      .then((response) => response.text())\n      .then((text) => (content = text));\n    let lines = content.split(/[\\r\\n]+/g);\n    let found = false;\n    let curr, currLine;\n    // LINEAR search leggoooo\n    for (curr = 0; curr < lines.length && !found; curr++) {\n      currLine = lines[curr].split(/,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n      if (currLine[1] === gtid) {\n        found = true;\n      }\n    }\n    return found\n      ? currLine[0].split(\",\")[1].split(\" \")[1].split('\"')[0] +\n          \" \" +\n          currLine[0].split(\",\")[0].split('\"')[1].charAt(0)\n      : null;\n  };\n\n  async updateStats() {\n    //students that came and left within the last n min or that are still in the queue\n    let students = this.state.time.length + this.state.queue.length;\n    let avgTime = 0;\n    for (let i = 0; i < this.state.time.length; i++) {\n      avgTime += this.state.time[i];\n    }\n    //avg time spent in queue for students dequeued in last n minutes\n    avgTime /= this.state.time.length === 0 ? 1 : this.state.time.length;\n\n    this.setState({\n      time: [],\n    });\n    avgTime = avgTime.toFixed(2);\n\n    await postStats(students, avgTime);\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keydown\", this.keyDown);\n    setInterval(\n      function () {\n        this.updateStats();\n      }.bind(this),\n      1000 * 60 * 15\n    ); //every 15 minutes\n  }\n\n  render() {\n    return (\n      <div className=\"StudentQueue\">\n        <div id=\"studentq_title\">Queue</div>\n        <div id=\"studentq_info\">Press ENTER and remember your name!</div>\n        <div id=\"studentq_names\">\n          {this.state.queue &&\n            this.state.queue.length <= 14 &&\n            this.state.queue.map((value, index) => (\n              <div id=\"studentq_name\" key={index}>\n                {value.name}\n              </div>\n            ))}\n          {this.state.queue &&\n            this.state.queue.length > 14 &&\n            this.state.queue.map((value, index) => {\n              // const timeInQueue = (new Date().getTime() - value.time) / 1000 / 60; // calculate time in minutes\n              // console.log(timeInQueue);\n              // let nameColor = '#0f893b' // default green\n              // if (timeInQueue >= 5 && timeInQueue < 10) {\n              //     nameColor = '#FF6600'; // after 5 minutes orange\n              //   } else if (timeInQueue >= 10) {\n              //     nameColor = '#f22613'; // after 10 minutes red\n              // }\n              // console.log(nameColor);\n\n              if (index <= 4 || index >= this.state.queue.length - 5) {\n                // show first & last 5\n                return (\n                  <div id=\"studentq_name\" key={index}>\n                    {value.name}\n                  </div>\n                );\n              } else if (index === 5) {\n                // show # hidden\n                return (\n                  <div id=\"studentq_name\" key={index}>\n                    ... ({this.state.queue.length - 10} hidden) ...\n                  </div>\n                );\n              } else {\n                return null;\n              }\n            })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StudentQueue;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}