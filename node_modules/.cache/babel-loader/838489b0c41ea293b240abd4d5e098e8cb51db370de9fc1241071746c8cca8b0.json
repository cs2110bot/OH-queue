{"ast":null,"code":"var _jsxFileName = \"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/src/components/OnDuty.js\";\nimport React, { Component } from 'react';\nimport { getOnDuty } from '../gcal';\nimport '../style/OnDuty.css';\nimport PersonCard from './PersonCard';\nimport StudentQueue from './StudentQueue';\nimport AlertBox from './AlertBox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass OnDuty extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tas: [],\n      statusMessage: ''\n    };\n    this.fileType = name => {\n      name = name.split(' ').join('');\n      const exts = ['.png', '.PNG', '.jpg', '.jpeg', '.JPEG', '.JPG', '.gif', '.GIF'];\n      let type;\n      for (let i = 0; i < exts.length; i++) {\n        try {\n          require('../references/ta_pics/' + name + exts[i]);\n          type = exts[i];\n        } catch (e) {} // I know this is jank, I'm sorry\n      }\n\n      return type;\n    };\n    this.clickTA = ta => {\n      ta.busy = !ta.busy;\n      this.setState({}); // I have no idea how this works but it does\n    };\n  }\n  UNSAFE_componentWillMount() {\n    getOnDuty((tas, statusMessage) => {\n      this.setState({\n        tas,\n        statusMessage\n      });\n    });\n  }\n  componentDidMount() {\n    window.setInterval(function () {\n      getOnDuty((tas, statusMessage) => {\n        this.setState({\n          tas,\n          statusMessage\n        });\n      });\n    }.bind(this), 30000);\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"OnDuty\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"onduty_title\",\n          children: \"TAs On Duty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"onduty_status\",\n          children: this.state.statusMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"onduty_tas\",\n          children: this.state.tas && this.state.tas.map((ta, index) => {\n            let image;\n            try {\n              image = require('../references/ta_pics/' + ta.name.toLowerCase().split(' ').join('') + this.fileType(ta.name.toLowerCase()));\n            } catch (e) {\n              image = require('../references/ta_pics/default.jpg');\n            }\n            return /*#__PURE__*/_jsxDEV(PersonCard, {\n              ta: ta,\n              imageUrl: image,\n              isRemote: ta.remote,\n              onClick: this.clickTA // Pass the clickTA function as a prop\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AlertBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StudentQueue, {\n        tas: this.state.tas\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n}\nexport default OnDuty;","map":{"version":3,"names":["React","Component","getOnDuty","PersonCard","StudentQueue","AlertBox","jsxDEV","_jsxDEV","Fragment","_Fragment","OnDuty","constructor","args","state","tas","statusMessage","fileType","name","split","join","exts","type","i","length","require","e","clickTA","ta","busy","setState","UNSAFE_componentWillMount","componentDidMount","window","setInterval","bind","render","children","className","id","fileName","_jsxFileName","lineNumber","columnNumber","map","index","image","toLowerCase","imageUrl","isRemote","remote","onClick"],"sources":["/Users/galovadia/Downloads/new-OH-Queue/OH-queue/src/components/OnDuty.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { getOnDuty } from '../gcal';\nimport '../style/OnDuty.css';\nimport PersonCard from './PersonCard';\nimport StudentQueue from './StudentQueue';\nimport AlertBox from './AlertBox';\n\nclass OnDuty extends Component {\n    state = {\n        tas: [],\n        statusMessage: '',\n    };\n\n    UNSAFE_componentWillMount() {\n        getOnDuty((tas, statusMessage) => {\n            this.setState({ tas, statusMessage });\n        });\n    }\n\n    componentDidMount() {\n        window.setInterval(\n            function () {\n                getOnDuty((tas, statusMessage) => {\n                    this.setState({ tas, statusMessage });\n                });\n            }.bind(this),\n            30000\n        );\n    }\n\n    fileType = (name) => {\n        name = name.split(' ').join('');\n        const exts = ['.png', '.PNG', '.jpg', '.jpeg', '.JPEG', '.JPG', '.gif', '.GIF'];\n        let type;\n        for (let i = 0; i < exts.length; i++) {\n            try {\n                require('../references/ta_pics/' + name + exts[i]);\n                type = exts[i];\n            } catch (e) {} // I know this is jank, I'm sorry\n        }\n        return type;\n    };\n\n    clickTA = (ta) => {\n        ta.busy = !ta.busy;\n        this.setState({}); // I have no idea how this works but it does\n    };\n\n    render() {\n        return (\n            <>\n                <div className='OnDuty'>\n                    <div id='onduty_title'>TAs On Duty</div>\n                    <div id='onduty_status'>{this.state.statusMessage}</div>\n                    <div id='onduty_tas'>\n                        {this.state.tas &&\n                            this.state.tas.map((ta, index) => {\n                                let image;\n                                try {\n                                    image = require('../references/ta_pics/' +\n                                        ta.name.toLowerCase().split(' ').join('') +\n                                        this.fileType(ta.name.toLowerCase()));\n                                } catch (e) {\n                                    image = require('../references/ta_pics/default.jpg');\n                                }\n\n                                return (\n                                    <PersonCard\n                                        key={index}\n                                        ta={ta}\n                                        imageUrl={image}\n                                        isRemote={ta.remote}\n                                        onClick={this.clickTA} // Pass the clickTA function as a prop\n                                    />\n                                );\n                            })\n                        }\n                    </div>\n                    <AlertBox />\n                </div>\n                <StudentQueue tas={this.state.tas} />\n            </>\n        );\n    }\n}\n\nexport default OnDuty;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}