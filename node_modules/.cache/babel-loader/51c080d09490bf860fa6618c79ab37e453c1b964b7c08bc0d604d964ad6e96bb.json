{"ast":null,"code":"import _classCallCheck from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/galovadia/Downloads/new-OH-Queue/OH-queue/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{getOnDuty}from'../gcal';import'../style/OnDuty.css';import PersonCard from'./PersonCard';import StudentQueue from'./StudentQueue';import AlertBox from'./AlertBox';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OnDuty=/*#__PURE__*/function(_Component){_inherits(OnDuty,_Component);var _super=_createSuper(OnDuty);function OnDuty(){var _this;_classCallCheck(this,OnDuty);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tas:[],statusMessage:''};_this.fileType=function(name){name=name.split(' ').join('');var exts=['.png','.PNG','.jpg','.jpeg','.JPEG','.JPG','.gif','.GIF'];var type;for(var i=0;i<exts.length;i++){try{require('../references/ta_pics/'+name+exts[i]);type=exts[i];}catch(e){}// I know this is jank, I'm sorry\n}return type;};_this.clickTA=function(ta){ta.busy=!ta.busy;_this.setState({});// I have no idea how this works but it does\n};return _this;}_createClass(OnDuty,[{key:\"UNSAFE_componentWillMount\",value:function UNSAFE_componentWillMount(){var _this2=this;getOnDuty(function(tas,statusMessage){_this2.setState({tas:tas,statusMessage:statusMessage});});}},{key:\"componentDidMount\",value:function componentDidMount(){window.setInterval(function(){var _this3=this;getOnDuty(function(tas,statusMessage){_this3.setState({tas:tas,statusMessage:statusMessage});});}.bind(this),30000);}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"OnDuty\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"onduty_title\",children:\"TAs On Duty\"}),/*#__PURE__*/_jsx(\"div\",{id:\"onduty_status\",children:this.state.statusMessage}),/*#__PURE__*/_jsx(\"div\",{id:\"onduty_tas\",children:this.state.tas&&this.state.tas.map(function(ta,index){var image;try{image=require('../references/ta_pics/'+ta.name.toLowerCase().split(' ').join('')+_this4.fileType(ta.name.toLowerCase()));}catch(e){image=require('../references/ta_pics/default.jpg');}return/*#__PURE__*/_jsx(PersonCard,{ta:ta,imageUrl:image,isRemote:ta.remote,onClick:_this4.clickTA// Pass the clickTA function as a prop\n},index);})}),/*#__PURE__*/_jsx(AlertBox,{})]}),/*#__PURE__*/_jsx(StudentQueue,{tas:this.state.tas})]});}}]);return OnDuty;}(Component);export default OnDuty;","map":{"version":3,"names":["React","Component","getOnDuty","PersonCard","StudentQueue","AlertBox","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OnDuty","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","tas","statusMessage","fileType","name","split","join","exts","type","i","require","e","clickTA","ta","busy","setState","_createClass","key","value","UNSAFE_componentWillMount","_this2","componentDidMount","window","setInterval","_this3","bind","render","_this4","children","className","id","map","index","image","toLowerCase","imageUrl","isRemote","remote","onClick"],"sources":["/Users/galovadia/Downloads/new-OH-Queue/OH-queue/src/components/OnDuty.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { getOnDuty } from '../gcal';\nimport '../style/OnDuty.css';\nimport PersonCard from './PersonCard';\nimport StudentQueue from './StudentQueue';\nimport AlertBox from './AlertBox';\n\nclass OnDuty extends Component {\n    state = {\n        tas: [],\n        statusMessage: '',\n    };\n\n    UNSAFE_componentWillMount() {\n        getOnDuty((tas, statusMessage) => {\n            this.setState({ tas, statusMessage });\n        });\n    }\n\n    componentDidMount() {\n        window.setInterval(\n            function () {\n                getOnDuty((tas, statusMessage) => {\n                    this.setState({ tas, statusMessage });\n                });\n            }.bind(this),\n            30000\n        );\n    }\n\n    fileType = (name) => {\n        name = name.split(' ').join('');\n        const exts = ['.png', '.PNG', '.jpg', '.jpeg', '.JPEG', '.JPG', '.gif', '.GIF'];\n        let type;\n        for (let i = 0; i < exts.length; i++) {\n            try {\n                require('../references/ta_pics/' + name + exts[i]);\n                type = exts[i];\n            } catch (e) {} // I know this is jank, I'm sorry\n        }\n        return type;\n    };\n\n    clickTA = (ta) => {\n        ta.busy = !ta.busy;\n        this.setState({}); // I have no idea how this works but it does\n    };\n\n    render() {\n        return (\n            <>\n                <div className='OnDuty'>\n                    <div id='onduty_title'>TAs On Duty</div>\n                    <div id='onduty_status'>{this.state.statusMessage}</div>\n                    <div id='onduty_tas'>\n                        {this.state.tas &&\n                            this.state.tas.map((ta, index) => {\n                                let image;\n                                try {\n                                    image = require('../references/ta_pics/' +\n                                        ta.name.toLowerCase().split(' ').join('') +\n                                        this.fileType(ta.name.toLowerCase()));\n                                } catch (e) {\n                                    image = require('../references/ta_pics/default.jpg');\n                                }\n\n                                return (\n                                    <PersonCard\n                                        key={index}\n                                        ta={ta}\n                                        imageUrl={image}\n                                        isRemote={ta.remote}\n                                        onClick={this.clickTA} // Pass the clickTA function as a prop\n                                    />\n                                );\n                            })\n                        }\n                    </div>\n                    <AlertBox />\n                </div>\n                <StudentQueue tas={this.state.tas} />\n            </>\n        );\n    }\n}\n\nexport default OnDuty;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}